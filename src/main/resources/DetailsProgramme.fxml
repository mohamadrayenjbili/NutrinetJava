<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.GridPane?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fitToWidth="true"
            fx:controller="controllers.Programme.DetailsProgramme">

    <content>
        <!-- Conteneur principal -->
        <VBox fx:id="rootPane"
              spacing="20"
              alignment="TOP_CENTER"
              styleClass="background">

            <!-- Marges internes du ScrollPane / VBox -->
            <padding>
                <Insets top="30" right="40" bottom="30" left="40"/>
            </padding>

            <!-- Un titre général (facultatif) -->
            <Label text="📋 Détails du Programme" styleClass="header"/>

            <!-- Conteneur horizontal principal pour séparer : à gauche les infos, à droite l'image -->
            <HBox alignment="CENTER" spacing="40">

                <!-- Colonne de gauche : infos et bouton "Commencer le programme" -->
                <VBox alignment="TOP_LEFT" spacing="20" maxWidth="400">

                    <!-- GridPane contenant Titre, Type, Auteur, Description, Vidéo URL -->
                    <GridPane hgap="15" vgap="12" styleClass="info-grid">
                        <columnConstraints>
                            <ColumnConstraints minWidth="100" halignment="RIGHT"/>
                            <ColumnConstraints minWidth="200"/>
                        </columnConstraints>

                        <Label text="🎓 Titre :" styleClass="label-title" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <Label fx:id="lblTitre" styleClass="label-value" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="📂 Type :" styleClass="label-title" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <Label fx:id="lblType" styleClass="label-value" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="🧑 Auteur :" styleClass="label-title" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <Label fx:id="lblAuteur" styleClass="label-value" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="📄 Description :" styleClass="label-title" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <TextArea fx:id="lblDescription"
                                  wrapText="true"
                                  editable="false"
                                  prefRowCount="4"
                                  maxWidth="200"
                                  styleClass="description"
                                  GridPane.rowIndex="3"
                                  GridPane.columnIndex="1"/>

                        <Label text="🎬 Vidéo URL :" styleClass="label-title" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                        <Label fx:id="lblVideoUrl"
                               wrapText="true"
                               maxWidth="200"
                               styleClass="label-value link-label"
                               GridPane.rowIndex="4"
                               GridPane.columnIndex="1"/>
                    </GridPane>

                    <!-- Bouton "Commencer le programme" (remplace "Read More") -->
                    <Button fx:id="btnCommencerProgramme"
                            text="Commencer le programme"
                            styleClass="start-button"
                            maxWidth="200"/>

                </VBox>

                <!-- Colonne de droite : l'image du programme -->
                <ImageView fx:id="imgProgramme"
                           fitHeight="250"
                           fitWidth="250"
                           preserveRatio="true"
                           styleClass="image-preview"/>
            </HBox>

            <!-- Bloc pour les commentaires (Titre + zone de saisie + liste des commentaires) -->
            <VBox spacing="15" alignment="CENTER_LEFT" maxWidth="600">

                <!-- Titre de la section commentaire -->
                <Label text="💬 Ajouter un commentaire :" styleClass="label-title"/>

                <!-- Zone de texte + bouton d’envoi -->
                <TextArea fx:id="txtCommentaire"
                          promptText="Écrivez votre commentaire ici..."
                          prefRowCount="3"
                          maxWidth="600"
                          wrapText="true"/>
                <Button fx:id="btnEnvoyerCommentaire"
                        text="Envoyer le commentaire"
                        maxWidth="200"
                        styleClass="submit-button"/>

                <!-- Label au-dessus de la liste des commentaires -->
                <Label text="🗨️ Commentaires :" styleClass="label-title"/>
                <VBox fx:id="commentaireContainer" spacing="15" maxWidth="600" alignment="TOP_LEFT"/>
            </VBox>

        </VBox>
    </content>
</ScrollPane>
